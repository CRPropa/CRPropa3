\hypertarget{classcrpropa_1_1Grid}{}\doxysection{Grid\texorpdfstring{$<$}{<} T \texorpdfstring{$>$}{>} Class Template Reference}
\label{classcrpropa_1_1Grid}\index{Grid$<$ T $>$@{Grid$<$ T $>$}}


Template class for fields on a periodic grid with trilinear interpolation.  


Inheritance diagram for Grid\texorpdfstring{$<$}{<} T \texorpdfstring{$>$}{>}\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classcrpropa_1_1Grid}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcrpropa_1_1Grid_a0ae514128f317c586dda8044544128b4}{Grid}} (\mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}} origin, size\+\_\+t N, double spacing)
\item 
\mbox{\hyperlink{classcrpropa_1_1Grid_a7d881f654805fd38d0801bdcc855002c}{Grid}} (\mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}} origin, size\+\_\+t Nx, size\+\_\+t Ny, size\+\_\+t Nz, double spacing)
\item 
\mbox{\hyperlink{classcrpropa_1_1Grid_acbf505c1a493906b3e7038e54d9c6ac1}{Grid}} (\mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}} origin, size\+\_\+t Nx, size\+\_\+t Ny, size\+\_\+t Nz, \mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}} spacing)
\item 
\mbox{\hyperlink{classcrpropa_1_1Grid_acf906e7df3e88d490278caaae2554d28}{Grid}} (const \mbox{\hyperlink{classcrpropa_1_1GridProperties}{Grid\+Properties}} \&p)
\item 
\mbox{\Hypertarget{classcrpropa_1_1Grid_a1786365db528152cef94065c1eef84d4}\label{classcrpropa_1_1Grid_a1786365db528152cef94065c1eef84d4}} 
void {\bfseries set\+Origin} (\mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}} origin)
\item 
void \mbox{\hyperlink{classcrpropa_1_1Grid_ad2363ad78ab79c80581aa4bbf478d99f}{set\+Grid\+Size}} (size\+\_\+t Nx, size\+\_\+t Ny, size\+\_\+t Nz)
\item 
\mbox{\Hypertarget{classcrpropa_1_1Grid_a8e3bae18c88aa0ff130dea300c72692d}\label{classcrpropa_1_1Grid_a8e3bae18c88aa0ff130dea300c72692d}} 
void {\bfseries set\+Spacing} (\mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}} spacing)
\item 
\mbox{\Hypertarget{classcrpropa_1_1Grid_a9d7fa3fa7ac31401e05efab21c1997ac}\label{classcrpropa_1_1Grid_a9d7fa3fa7ac31401e05efab21c1997ac}} 
void {\bfseries set\+Reflective} (bool b)
\item 
void \mbox{\hyperlink{classcrpropa_1_1Grid_a4f606d425b648707871e1f7493fa0275}{set\+Interpolation\+Type}} (\mbox{\hyperlink{namespacecrpropa_aa197adf50cede38157e51842d7a713f8}{interpolation\+Type}} ipol\+Type)
\item 
\mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}} \mbox{\hyperlink{classcrpropa_1_1Grid_a5c6a870c843b028952296b9a186382e8}{get\+Origin}} () const
\item 
\mbox{\Hypertarget{classcrpropa_1_1Grid_a849205bb532d7f55bcc9da0916e02d1d}\label{classcrpropa_1_1Grid_a849205bb532d7f55bcc9da0916e02d1d}} 
size\+\_\+t {\bfseries get\+Nx} () const
\item 
\mbox{\Hypertarget{classcrpropa_1_1Grid_aeea0ee66ff8e29ad86071be29a9f744b}\label{classcrpropa_1_1Grid_aeea0ee66ff8e29ad86071be29a9f744b}} 
size\+\_\+t {\bfseries get\+Ny} () const
\item 
\mbox{\Hypertarget{classcrpropa_1_1Grid_a2d0d9d6ef46db37f88d35bd0a629c751}\label{classcrpropa_1_1Grid_a2d0d9d6ef46db37f88d35bd0a629c751}} 
size\+\_\+t {\bfseries get\+Nz} () const
\item 
size\+\_\+t \mbox{\hyperlink{classcrpropa_1_1Grid_a8724a0302f115e2f7336b005eae4125e}{get\+Size\+Of}} () const
\item 
\mbox{\Hypertarget{classcrpropa_1_1Grid_ade4cd4176c40d06139d581f4a3162c0f}\label{classcrpropa_1_1Grid_ade4cd4176c40d06139d581f4a3162c0f}} 
\mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}} {\bfseries get\+Spacing} () const
\item 
\mbox{\Hypertarget{classcrpropa_1_1Grid_a4d434fc7c5407b6f5f1357d7318375c6}\label{classcrpropa_1_1Grid_a4d434fc7c5407b6f5f1357d7318375c6}} 
bool {\bfseries is\+Reflective} () const
\item 
T \mbox{\hyperlink{classcrpropa_1_1Grid_a9ca57a57a07cf49c465795e958f0040f}{interpolate}} (const \mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}} \&position)
\item 
T \& \mbox{\hyperlink{classcrpropa_1_1Grid_a6c72c88c23abb6788c60edc727e85bb6}{get}} (size\+\_\+t ix, size\+\_\+t iy, size\+\_\+t iz)
\item 
const T \& \mbox{\hyperlink{classcrpropa_1_1Grid_a3ec39ecd1ecb9e4beb9b9e581945d842}{get}} (size\+\_\+t ix, size\+\_\+t iy, size\+\_\+t iz) const
\item 
\mbox{\Hypertarget{classcrpropa_1_1Grid_a5271391a406c2d1677d0af52d8297fb4}\label{classcrpropa_1_1Grid_a5271391a406c2d1677d0af52d8297fb4}} 
const T \& {\bfseries periodic\+Get} (size\+\_\+t ix, size\+\_\+t iy, size\+\_\+t iz) const
\item 
\mbox{\Hypertarget{classcrpropa_1_1Grid_a28adcc2f2847e9534da8d52689a751a6}\label{classcrpropa_1_1Grid_a28adcc2f2847e9534da8d52689a751a6}} 
const T \& {\bfseries reflective\+Get} (size\+\_\+t ix, size\+\_\+t iy, size\+\_\+t iz) const
\item 
\mbox{\Hypertarget{classcrpropa_1_1Grid_ac149061ab680d062fbf77eb364a42716}\label{classcrpropa_1_1Grid_ac149061ab680d062fbf77eb364a42716}} 
T {\bfseries get\+Value} (size\+\_\+t ix, size\+\_\+t iy, size\+\_\+t iz)
\item 
\mbox{\Hypertarget{classcrpropa_1_1Grid_af939cbfe50bdf4f89163a2c24a094990}\label{classcrpropa_1_1Grid_af939cbfe50bdf4f89163a2c24a094990}} 
void {\bfseries set\+Value} (size\+\_\+t ix, size\+\_\+t iy, size\+\_\+t iz, T value)
\item 
std\+::vector$<$ T $>$ \& \mbox{\hyperlink{classcrpropa_1_1Grid_ab93dfd01fd98e3d1a868e49767b48d26}{get\+Grid}} ()
\item 
\mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}} \mbox{\hyperlink{classcrpropa_1_1Grid_a676dd62078b7146cf6024ead49f6540b}{position\+From\+Index}} (int index) const
\item 
T \mbox{\hyperlink{classcrpropa_1_1Grid_aa325543483cdaee1bfdf0fb714dd5c90}{closest\+Value}} (const \mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}} \&position) const
\item 
\mbox{\Hypertarget{classcrpropa_1_1Referenced_a6ef7442f4d857baf3d3a39fdeec4aadd}\label{classcrpropa_1_1Referenced_a6ef7442f4d857baf3d3a39fdeec4aadd}} 
size\+\_\+t {\bfseries add\+Reference} () const
\item 
\mbox{\Hypertarget{classcrpropa_1_1Referenced_ab9f5dbbba1431274016b3d74426953f2}\label{classcrpropa_1_1Referenced_ab9f5dbbba1431274016b3d74426953f2}} 
size\+\_\+t {\bfseries remove\+Reference} () const
\item 
\mbox{\Hypertarget{classcrpropa_1_1Referenced_adab41cca5664d4668930f93beefa39b5}\label{classcrpropa_1_1Referenced_adab41cca5664d4668930f93beefa39b5}} 
int {\bfseries remove\+Reference\+No\+Delete} () const
\item 
\mbox{\Hypertarget{classcrpropa_1_1Referenced_a74487fc4399bfa67c7251dae5d4247cd}\label{classcrpropa_1_1Referenced_a74487fc4399bfa67c7251dae5d4247cd}} 
size\+\_\+t {\bfseries get\+Reference\+Count} () const
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$typename T$>$\newline
class crpropa\+::\+Grid$<$ T $>$}
Template class for fields on a periodic grid with trilinear interpolation. 

The grid spacing is constant with diffrent resolution along all three axes. Values are calculated by trilinear interpolation of the surrounding 8 grid points. The grid is periodically (default) or reflectively extended. The grid sample positions are at 1/2 $\ast$ size/N, 3/2 $\ast$ size/N ... (2N-\/1)/2 $\ast$ size/N. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcrpropa_1_1Grid_a0ae514128f317c586dda8044544128b4}\label{classcrpropa_1_1Grid_a0ae514128f317c586dda8044544128b4}} 
\index{Grid$<$ T $>$@{Grid$<$ T $>$}!Grid@{Grid}}
\index{Grid@{Grid}!Grid$<$ T $>$@{Grid$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{Grid()}{Grid()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classcrpropa_1_1Grid}{Grid}} (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}}}]{origin,  }\item[{size\+\_\+t}]{N,  }\item[{double}]{spacing }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Constructor for cubic grid 
\begin{DoxyParams}{Parameters}
{\em origin} & Position of the lower left front corner of the volume \\
\hline
{\em N} & Number of grid points in one direction \\
\hline
{\em spacing} & Spacing between grid points \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classcrpropa_1_1Grid_a7d881f654805fd38d0801bdcc855002c}\label{classcrpropa_1_1Grid_a7d881f654805fd38d0801bdcc855002c}} 
\index{Grid$<$ T $>$@{Grid$<$ T $>$}!Grid@{Grid}}
\index{Grid@{Grid}!Grid$<$ T $>$@{Grid$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{Grid()}{Grid()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classcrpropa_1_1Grid}{Grid}} (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}}}]{origin,  }\item[{size\+\_\+t}]{Nx,  }\item[{size\+\_\+t}]{Ny,  }\item[{size\+\_\+t}]{Nz,  }\item[{double}]{spacing }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Constructor for non-\/cubic grid 
\begin{DoxyParams}{Parameters}
{\em origin} & Position of the lower left front corner of the volume \\
\hline
{\em Nx} & Number of grid points in x-\/direction \\
\hline
{\em Ny} & Number of grid points in y-\/direction \\
\hline
{\em Nz} & Number of grid points in z-\/direction \\
\hline
{\em spacing} & Spacing between grid points \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classcrpropa_1_1Grid_acbf505c1a493906b3e7038e54d9c6ac1}\label{classcrpropa_1_1Grid_acbf505c1a493906b3e7038e54d9c6ac1}} 
\index{Grid$<$ T $>$@{Grid$<$ T $>$}!Grid@{Grid}}
\index{Grid@{Grid}!Grid$<$ T $>$@{Grid$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{Grid()}{Grid()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classcrpropa_1_1Grid}{Grid}} (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}}}]{origin,  }\item[{size\+\_\+t}]{Nx,  }\item[{size\+\_\+t}]{Ny,  }\item[{size\+\_\+t}]{Nz,  }\item[{\mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}}}]{spacing }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Constructor for non-\/cubic grid with spacing vector 
\begin{DoxyParams}{Parameters}
{\em origin} & Position of the lower left front corner of the volume \\
\hline
{\em Nx} & Number of grid points in x-\/direction \\
\hline
{\em Ny} & Number of grid points in y-\/direction \\
\hline
{\em Nz} & Number of grid points in z-\/direction \\
\hline
{\em spacing} & Spacing vector between grid points \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classcrpropa_1_1Grid_acf906e7df3e88d490278caaae2554d28}\label{classcrpropa_1_1Grid_acf906e7df3e88d490278caaae2554d28}} 
\index{Grid$<$ T $>$@{Grid$<$ T $>$}!Grid@{Grid}}
\index{Grid@{Grid}!Grid$<$ T $>$@{Grid$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{Grid()}{Grid()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classcrpropa_1_1Grid}{Grid}} (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classcrpropa_1_1GridProperties}{Grid\+Properties}} \&}]{p }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Constructor for \mbox{\hyperlink{classcrpropa_1_1GridProperties}{Grid\+Properties}} 
\begin{DoxyParams}{Parameters}
{\em p} & \mbox{\hyperlink{classcrpropa_1_1GridProperties}{Grid\+Properties}} instance \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcrpropa_1_1Grid_aa325543483cdaee1bfdf0fb714dd5c90}\label{classcrpropa_1_1Grid_aa325543483cdaee1bfdf0fb714dd5c90}} 
\index{Grid$<$ T $>$@{Grid$<$ T $>$}!closestValue@{closestValue}}
\index{closestValue@{closestValue}!Grid$<$ T $>$@{Grid$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{closestValue()}{closestValue()}}
{\footnotesize\ttfamily T closest\+Value (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}} \&}]{position }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Value of a grid point that is closest to a given position / nearest neighbour interpolation \mbox{\Hypertarget{classcrpropa_1_1Grid_a6c72c88c23abb6788c60edc727e85bb6}\label{classcrpropa_1_1Grid_a6c72c88c23abb6788c60edc727e85bb6}} 
\index{Grid$<$ T $>$@{Grid$<$ T $>$}!get@{get}}
\index{get@{get}!Grid$<$ T $>$@{Grid$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{get()}{get()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily T \& get (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{ix,  }\item[{size\+\_\+t}]{iy,  }\item[{size\+\_\+t}]{iz }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Inspector \& Mutator \mbox{\Hypertarget{classcrpropa_1_1Grid_a3ec39ecd1ecb9e4beb9b9e581945d842}\label{classcrpropa_1_1Grid_a3ec39ecd1ecb9e4beb9b9e581945d842}} 
\index{Grid$<$ T $>$@{Grid$<$ T $>$}!get@{get}}
\index{get@{get}!Grid$<$ T $>$@{Grid$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{get()}{get()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily const T \& get (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{ix,  }\item[{size\+\_\+t}]{iy,  }\item[{size\+\_\+t}]{iz }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Inspector \mbox{\Hypertarget{classcrpropa_1_1Grid_ab93dfd01fd98e3d1a868e49767b48d26}\label{classcrpropa_1_1Grid_ab93dfd01fd98e3d1a868e49767b48d26}} 
\index{Grid$<$ T $>$@{Grid$<$ T $>$}!getGrid@{getGrid}}
\index{getGrid@{getGrid}!Grid$<$ T $>$@{Grid$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{getGrid()}{getGrid()}}
{\footnotesize\ttfamily std\+::vector$<$ T $>$ \& get\+Grid (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Return a reference to the grid values \mbox{\Hypertarget{classcrpropa_1_1Grid_a5c6a870c843b028952296b9a186382e8}\label{classcrpropa_1_1Grid_a5c6a870c843b028952296b9a186382e8}} 
\index{Grid$<$ T $>$@{Grid$<$ T $>$}!getOrigin@{getOrigin}}
\index{getOrigin@{getOrigin}!Grid$<$ T $>$@{Grid$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{getOrigin()}{getOrigin()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}} get\+Origin (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

returns the positon of the lower left front corner of the volume \mbox{\Hypertarget{classcrpropa_1_1Grid_a8724a0302f115e2f7336b005eae4125e}\label{classcrpropa_1_1Grid_a8724a0302f115e2f7336b005eae4125e}} 
\index{Grid$<$ T $>$@{Grid$<$ T $>$}!getSizeOf@{getSizeOf}}
\index{getSizeOf@{getSizeOf}!Grid$<$ T $>$@{Grid$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{getSizeOf()}{getSizeOf()}}
{\footnotesize\ttfamily size\+\_\+t get\+Size\+Of (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Calculates the total size of the grid in bytes \mbox{\Hypertarget{classcrpropa_1_1Grid_a9ca57a57a07cf49c465795e958f0040f}\label{classcrpropa_1_1Grid_a9ca57a57a07cf49c465795e958f0040f}} 
\index{Grid$<$ T $>$@{Grid$<$ T $>$}!interpolate@{interpolate}}
\index{interpolate@{interpolate}!Grid$<$ T $>$@{Grid$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{interpolate()}{interpolate()}}
{\footnotesize\ttfamily T interpolate (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}} \&}]{position }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Choose the interpolation algorithm based on the set interpolation type. By default this it the trilinear interpolation. The user can change the routine with the set\+Interpolation\+Type function. \mbox{\Hypertarget{classcrpropa_1_1Grid_a676dd62078b7146cf6024ead49f6540b}\label{classcrpropa_1_1Grid_a676dd62078b7146cf6024ead49f6540b}} 
\index{Grid$<$ T $>$@{Grid$<$ T $>$}!positionFromIndex@{positionFromIndex}}
\index{positionFromIndex@{positionFromIndex}!Grid$<$ T $>$@{Grid$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{positionFromIndex()}{positionFromIndex()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}} position\+From\+Index (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Position of the grid point of a given index \mbox{\Hypertarget{classcrpropa_1_1Grid_ad2363ad78ab79c80581aa4bbf478d99f}\label{classcrpropa_1_1Grid_ad2363ad78ab79c80581aa4bbf478d99f}} 
\index{Grid$<$ T $>$@{Grid$<$ T $>$}!setGridSize@{setGridSize}}
\index{setGridSize@{setGridSize}!Grid$<$ T $>$@{Grid$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{setGridSize()}{setGridSize()}}
{\footnotesize\ttfamily void set\+Grid\+Size (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{Nx,  }\item[{size\+\_\+t}]{Ny,  }\item[{size\+\_\+t}]{Nz }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Resize grid, also enlarges the volume as the spacing stays constant \mbox{\Hypertarget{classcrpropa_1_1Grid_a4f606d425b648707871e1f7493fa0275}\label{classcrpropa_1_1Grid_a4f606d425b648707871e1f7493fa0275}} 
\index{Grid$<$ T $>$@{Grid$<$ T $>$}!setInterpolationType@{setInterpolationType}}
\index{setInterpolationType@{setInterpolationType}!Grid$<$ T $>$@{Grid$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{setInterpolationType()}{setInterpolationType()}}
{\footnotesize\ttfamily void set\+Interpolation\+Type (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacecrpropa_aa197adf50cede38157e51842d7a713f8}{interpolation\+Type}}}]{ipol\+Type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Change the interpolation type to the routine specified by the user. Check if this routine is contained in the enum interpolation\+Type and thus supported by CRPropa. 