\hypertarget{classcrpropa_1_1SynchrotronRadiation}{}\doxysection{Synchrotron\+Radiation Class Reference}
\label{classcrpropa_1_1SynchrotronRadiation}\index{SynchrotronRadiation@{SynchrotronRadiation}}


Synchrotron radiation of charged particles in magnetic fields.  




{\ttfamily \#include $<$crpropa/module/\+Synchrotron\+Radiation.\+h$>$}

Inheritance diagram for Synchrotron\+Radiation\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classcrpropa_1_1SynchrotronRadiation}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcrpropa_1_1SynchrotronRadiation_ab7133d363bbd3f404b32b23cb901682f}{Synchrotron\+Radiation}} (\mbox{\hyperlink{classcrpropa_1_1ref__ptr}{ref\+\_\+ptr}}$<$ \mbox{\hyperlink{classcrpropa_1_1MagneticField}{Magnetic\+Field}} $>$ field, bool have\+Photons=false, double thinning=0, int n\+Samples=0, double limit=0.\+1)
\item 
\mbox{\hyperlink{classcrpropa_1_1SynchrotronRadiation_aa0088a47a13e1505eacdb12faee4b4c5}{Synchrotron\+Radiation}} (double Brms=0, bool have\+Photons=false, double thinning=0, int n\+Samples=0, double limit=0.\+1)
\item 
\mbox{\Hypertarget{classcrpropa_1_1SynchrotronRadiation_ad9d809e7ecc2fc687d96e64cb86220ef}\label{classcrpropa_1_1SynchrotronRadiation_ad9d809e7ecc2fc687d96e64cb86220ef}} 
void {\bfseries set\+Field} (\mbox{\hyperlink{classcrpropa_1_1ref__ptr}{ref\+\_\+ptr}}$<$ \mbox{\hyperlink{classcrpropa_1_1MagneticField}{Magnetic\+Field}} $>$ field)
\item 
\mbox{\Hypertarget{classcrpropa_1_1SynchrotronRadiation_a94d4a272899bde20d7d86d90dd106db3}\label{classcrpropa_1_1SynchrotronRadiation_a94d4a272899bde20d7d86d90dd106db3}} 
void {\bfseries set\+Brms} (double Brms)
\item 
\mbox{\Hypertarget{classcrpropa_1_1SynchrotronRadiation_a777eb899a82cdaa83f93c5a612eed3bc}\label{classcrpropa_1_1SynchrotronRadiation_a777eb899a82cdaa83f93c5a612eed3bc}} 
void {\bfseries set\+Have\+Photons} (bool have\+Photons)
\item 
\mbox{\Hypertarget{classcrpropa_1_1SynchrotronRadiation_ae9ec05eded7676fbb5d0159c84b1e13b}\label{classcrpropa_1_1SynchrotronRadiation_ae9ec05eded7676fbb5d0159c84b1e13b}} 
void {\bfseries set\+Thinning} (double thinning)
\item 
\mbox{\Hypertarget{classcrpropa_1_1SynchrotronRadiation_a29ee54f3ff5603da67762de093cff3b1}\label{classcrpropa_1_1SynchrotronRadiation_a29ee54f3ff5603da67762de093cff3b1}} 
void {\bfseries set\+Limit} (double limit)
\item 
void \mbox{\hyperlink{classcrpropa_1_1SynchrotronRadiation_a5b2fbd7ca7b96dec59795b36502132bb}{set\+Maximum\+Samples}} (int nmax)
\item 
void \mbox{\hyperlink{classcrpropa_1_1SynchrotronRadiation_abb666b5e499ded2ac353b9d96f16c2e2}{set\+Secondary\+Threshold}} (double threshold)
\item 
\mbox{\Hypertarget{classcrpropa_1_1SynchrotronRadiation_a2537ab873f4734cebef84269f9074a9f}\label{classcrpropa_1_1SynchrotronRadiation_a2537ab873f4734cebef84269f9074a9f}} 
\mbox{\hyperlink{classcrpropa_1_1ref__ptr}{ref\+\_\+ptr}}$<$ \mbox{\hyperlink{classcrpropa_1_1MagneticField}{Magnetic\+Field}} $>$ {\bfseries get\+Field} ()
\item 
\mbox{\Hypertarget{classcrpropa_1_1SynchrotronRadiation_a2c9fce1ada6945fda1befd4684fc5fbf}\label{classcrpropa_1_1SynchrotronRadiation_a2c9fce1ada6945fda1befd4684fc5fbf}} 
double {\bfseries get\+Brms} ()
\item 
\mbox{\Hypertarget{classcrpropa_1_1SynchrotronRadiation_ab46d4bbeace2cb307fd832417e72f6e5}\label{classcrpropa_1_1SynchrotronRadiation_ab46d4bbeace2cb307fd832417e72f6e5}} 
bool {\bfseries get\+Have\+Photons} ()
\item 
\mbox{\Hypertarget{classcrpropa_1_1SynchrotronRadiation_a3028f0d674cb21361cb0805aee81e2a7}\label{classcrpropa_1_1SynchrotronRadiation_a3028f0d674cb21361cb0805aee81e2a7}} 
double {\bfseries get\+Thinning} ()
\item 
\mbox{\Hypertarget{classcrpropa_1_1SynchrotronRadiation_ac68c06af15b9b29687004f2b52d47c7a}\label{classcrpropa_1_1SynchrotronRadiation_ac68c06af15b9b29687004f2b52d47c7a}} 
double {\bfseries get\+Limit} ()
\item 
\mbox{\Hypertarget{classcrpropa_1_1SynchrotronRadiation_ae7896a12245275f571f09f0906c79320}\label{classcrpropa_1_1SynchrotronRadiation_ae7896a12245275f571f09f0906c79320}} 
int {\bfseries get\+Maximum\+Samples} ()
\item 
\mbox{\Hypertarget{classcrpropa_1_1SynchrotronRadiation_a15d29b02dec8472c8101d840957f9e9f}\label{classcrpropa_1_1SynchrotronRadiation_a15d29b02dec8472c8101d840957f9e9f}} 
double {\bfseries get\+Secondary\+Threshold} () const
\item 
\mbox{\Hypertarget{classcrpropa_1_1SynchrotronRadiation_a70c08feff94a05bbdd1b53dd94568cc6}\label{classcrpropa_1_1SynchrotronRadiation_a70c08feff94a05bbdd1b53dd94568cc6}} 
void {\bfseries init\+Spectrum} ()
\item 
void \mbox{\hyperlink{classcrpropa_1_1SynchrotronRadiation_ab59d2de78ed0589c122df3d6c0478b41}{process}} (\mbox{\hyperlink{classcrpropa_1_1Candidate}{Candidate}} $\ast$candidate) const
\item 
std\+::string \mbox{\hyperlink{classcrpropa_1_1SynchrotronRadiation_aea425314aebc36d0f6bf7671705158da}{get\+Description}} () const
\item 
\mbox{\Hypertarget{classcrpropa_1_1Module_a3406b56004afdbe7a1815a541d40de99}\label{classcrpropa_1_1Module_a3406b56004afdbe7a1815a541d40de99}} 
void {\bfseries set\+Description} (const std\+::string \&description)
\item 
\mbox{\Hypertarget{classcrpropa_1_1Module_a9f2321c49330b61a52ce55c2015e4c49}\label{classcrpropa_1_1Module_a9f2321c49330b61a52ce55c2015e4c49}} 
void {\bfseries process} (\mbox{\hyperlink{classcrpropa_1_1ref__ptr}{ref\+\_\+ptr}}$<$ \mbox{\hyperlink{classcrpropa_1_1Candidate}{Candidate}} $>$ candidate) const
\item 
\mbox{\Hypertarget{classcrpropa_1_1Referenced_a6ef7442f4d857baf3d3a39fdeec4aadd}\label{classcrpropa_1_1Referenced_a6ef7442f4d857baf3d3a39fdeec4aadd}} 
size\+\_\+t {\bfseries add\+Reference} () const
\item 
\mbox{\Hypertarget{classcrpropa_1_1Referenced_ab9f5dbbba1431274016b3d74426953f2}\label{classcrpropa_1_1Referenced_ab9f5dbbba1431274016b3d74426953f2}} 
size\+\_\+t {\bfseries remove\+Reference} () const
\item 
\mbox{\Hypertarget{classcrpropa_1_1Referenced_adab41cca5664d4668930f93beefa39b5}\label{classcrpropa_1_1Referenced_adab41cca5664d4668930f93beefa39b5}} 
int {\bfseries remove\+Reference\+No\+Delete} () const
\item 
\mbox{\Hypertarget{classcrpropa_1_1Referenced_a74487fc4399bfa67c7251dae5d4247cd}\label{classcrpropa_1_1Referenced_a74487fc4399bfa67c7251dae5d4247cd}} 
size\+\_\+t {\bfseries get\+Reference\+Count} () const
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Synchrotron radiation of charged particles in magnetic fields. 

This module simulates the continuous energy loss of charged particles in magnetic fields, c.\+f. Jackson. The magnetic field is specified either by a \mbox{\hyperlink{classcrpropa_1_1MagneticField}{Magnetic\+Field}} or by a RMS field strength value. The module limits the next step size to ensure a fractional energy loss d\+E/E \texorpdfstring{$<$}{<} limit (default = 0.\+1). Optionally, synchrotron photons above a threshold (default E \texorpdfstring{$>$}{>} 10$^\wedge$7 eV) are created as secondary particles. Note that the large number of secondary photons per propagation can cause memory problems. To mitigate this, use thinning. However, this still does not solve the problem completely. For this reason, a break-\/condition stops tracking secondary photons and reweights the current ones. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcrpropa_1_1SynchrotronRadiation_ab7133d363bbd3f404b32b23cb901682f}\label{classcrpropa_1_1SynchrotronRadiation_ab7133d363bbd3f404b32b23cb901682f}} 
\index{SynchrotronRadiation@{SynchrotronRadiation}!SynchrotronRadiation@{SynchrotronRadiation}}
\index{SynchrotronRadiation@{SynchrotronRadiation}!SynchrotronRadiation@{SynchrotronRadiation}}
\doxysubsubsection{\texorpdfstring{SynchrotronRadiation()}{SynchrotronRadiation()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classcrpropa_1_1SynchrotronRadiation}{Synchrotron\+Radiation}} (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcrpropa_1_1ref__ptr}{ref\+\_\+ptr}}$<$ \mbox{\hyperlink{classcrpropa_1_1MagneticField}{Magnetic\+Field}} $>$}]{field,  }\item[{bool}]{have\+Photons = {\ttfamily false},  }\item[{double}]{thinning = {\ttfamily 0},  }\item[{int}]{n\+Samples = {\ttfamily 0},  }\item[{double}]{limit = {\ttfamily 0.1} }\end{DoxyParamCaption})}

Constructor 
\begin{DoxyParams}{Parameters}
{\em field} & magnetic field object \\
\hline
{\em have\+Photons} & if true, add secondary photons as candidates \\
\hline
{\em thinning} & weighted sampling of secondaries (0\+: all particles are tracked; 1\+: maximum thinning) \\
\hline
{\em n\+Samples} & number of synchrotron photons to be sampled and added as candidates \\
\hline
{\em limit} & step size limit as fraction of mean free path \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classcrpropa_1_1SynchrotronRadiation_aa0088a47a13e1505eacdb12faee4b4c5}\label{classcrpropa_1_1SynchrotronRadiation_aa0088a47a13e1505eacdb12faee4b4c5}} 
\index{SynchrotronRadiation@{SynchrotronRadiation}!SynchrotronRadiation@{SynchrotronRadiation}}
\index{SynchrotronRadiation@{SynchrotronRadiation}!SynchrotronRadiation@{SynchrotronRadiation}}
\doxysubsubsection{\texorpdfstring{SynchrotronRadiation()}{SynchrotronRadiation()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classcrpropa_1_1SynchrotronRadiation}{Synchrotron\+Radiation}} (\begin{DoxyParamCaption}\item[{double}]{Brms = {\ttfamily 0},  }\item[{bool}]{have\+Photons = {\ttfamily false},  }\item[{double}]{thinning = {\ttfamily 0},  }\item[{int}]{n\+Samples = {\ttfamily 0},  }\item[{double}]{limit = {\ttfamily 0.1} }\end{DoxyParamCaption})}

Constructor 
\begin{DoxyParams}{Parameters}
{\em field} & RMS of the magnetic field (if magnetic-\/field object not provided) \\
\hline
{\em have\+Photons} & if true, add secondary photons as candidates \\
\hline
{\em thinning} & weighted sampling of secondaries (0\+: all particles are tracked; 1\+: maximum thinning) \\
\hline
{\em n\+Samples} & number of synchrotron photons to be sampled and added as candidates \\
\hline
{\em limit} & step size limit as fraction of mean free path \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcrpropa_1_1SynchrotronRadiation_aea425314aebc36d0f6bf7671705158da}\label{classcrpropa_1_1SynchrotronRadiation_aea425314aebc36d0f6bf7671705158da}} 
\index{SynchrotronRadiation@{SynchrotronRadiation}!getDescription@{getDescription}}
\index{getDescription@{getDescription}!SynchrotronRadiation@{SynchrotronRadiation}}
\doxysubsubsection{\texorpdfstring{getDescription()}{getDescription()}}
{\footnotesize\ttfamily std\+::string get\+Description (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{classcrpropa_1_1Module}{Module}}.

\mbox{\Hypertarget{classcrpropa_1_1SynchrotronRadiation_ab59d2de78ed0589c122df3d6c0478b41}\label{classcrpropa_1_1SynchrotronRadiation_ab59d2de78ed0589c122df3d6c0478b41}} 
\index{SynchrotronRadiation@{SynchrotronRadiation}!process@{process}}
\index{process@{process}!SynchrotronRadiation@{SynchrotronRadiation}}
\doxysubsubsection{\texorpdfstring{process()}{process()}}
{\footnotesize\ttfamily void process (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcrpropa_1_1Candidate}{Candidate}} $\ast$}]{candidate }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classcrpropa_1_1Module}{Module}}.

\mbox{\Hypertarget{classcrpropa_1_1SynchrotronRadiation_a5b2fbd7ca7b96dec59795b36502132bb}\label{classcrpropa_1_1SynchrotronRadiation_a5b2fbd7ca7b96dec59795b36502132bb}} 
\index{SynchrotronRadiation@{SynchrotronRadiation}!setMaximumSamples@{setMaximumSamples}}
\index{setMaximumSamples@{setMaximumSamples}!SynchrotronRadiation@{SynchrotronRadiation}}
\doxysubsubsection{\texorpdfstring{setMaximumSamples()}{setMaximumSamples()}}
{\footnotesize\ttfamily void set\+Maximum\+Samples (\begin{DoxyParamCaption}\item[{int}]{nmax }\end{DoxyParamCaption})}

Set the maximum number of synchrotron photons that will be allowed to be added as candidates. This choice depends on the problem at hand. It must be such that all relevant physics is captured with the sample. Weights are added accordingly and the column \textquotesingle{}weight\textquotesingle{} must be added to output. 
\begin{DoxyParams}{Parameters}
{\em nmax} & maximum number of synchrotron photons to be sampled \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classcrpropa_1_1SynchrotronRadiation_abb666b5e499ded2ac353b9d96f16c2e2}\label{classcrpropa_1_1SynchrotronRadiation_abb666b5e499ded2ac353b9d96f16c2e2}} 
\index{SynchrotronRadiation@{SynchrotronRadiation}!setSecondaryThreshold@{setSecondaryThreshold}}
\index{setSecondaryThreshold@{setSecondaryThreshold}!SynchrotronRadiation@{SynchrotronRadiation}}
\doxysubsubsection{\texorpdfstring{setSecondaryThreshold()}{setSecondaryThreshold()}}
{\footnotesize\ttfamily void set\+Secondary\+Threshold (\begin{DoxyParamCaption}\item[{double}]{threshold }\end{DoxyParamCaption})}

Synchrotron photons above the secondary energy threshold are added as candidates. This may lead to a quick increase in memory. 
\begin{DoxyParams}{Parameters}
{\em threshold} & energy threshold above which photons will be added \mbox{[}in Joules\mbox{]} \\
\hline
\end{DoxyParams}
