<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CRPropa 3.0: MagneticLens Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CRPropa 3.0
   </div>
   <div id="projectbrief">Tracking</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecrpropa.html">crpropa</a></li><li class="navelem"><a class="el" href="classcrpropa_1_1MagneticLens.html">MagneticLens</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classcrpropa_1_1MagneticLens-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">MagneticLens Class Reference<div class="ingroups"><a class="el" href="group__MagneticLenses.html">Magnetic Lenses</a></div></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="MagneticLens_8h_source.html">crpropa/magneticLens/MagneticLens.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a643cd62aed5c704da458d60bb603c326"><td class="memItemLeft" align="right" valign="top"><a id="a643cd62aed5c704da458d60bb603c326" name="a643cd62aed5c704da458d60bb603c326"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MagneticLens</b> ()</td></tr>
<tr class="memdesc:a643cd62aed5c704da458d60bb603c326"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor. <br /></td></tr>
<tr class="separator:a643cd62aed5c704da458d60bb603c326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00fe2b9e680ef54314604383f4ad5543"><td class="memItemLeft" align="right" valign="top"><a id="a00fe2b9e680ef54314604383f4ad5543" name="a00fe2b9e680ef54314604383f4ad5543"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MagneticLens</b> (uint8_t healpixorder)</td></tr>
<tr class="memdesc:a00fe2b9e680ef54314604383f4ad5543"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs lens with predefined healpix order. <br /></td></tr>
<tr class="separator:a00fe2b9e680ef54314604383f4ad5543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe8b3bb801ef96e978ddab414f8535cc"><td class="memItemLeft" align="right" valign="top"><a id="afe8b3bb801ef96e978ddab414f8535cc" name="afe8b3bb801ef96e978ddab414f8535cc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MagneticLens</b> (const string &amp;filename)</td></tr>
<tr class="memdesc:afe8b3bb801ef96e978ddab414f8535cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct lens and load lens from file. <br /></td></tr>
<tr class="separator:afe8b3bb801ef96e978ddab414f8535cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6211e3c3afbb6179ed595c164c59814"><td class="memItemLeft" align="right" valign="top"><a id="aa6211e3c3afbb6179ed595c164c59814" name="aa6211e3c3afbb6179ed595c164c59814"></a>
const <a class="el" href="classcrpropa_1_1Pixelization.html">Pixelization</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getPixelization</b> () const</td></tr>
<tr class="memdesc:aa6211e3c3afbb6179ed595c164c59814"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the pixelization used. <br /></td></tr>
<tr class="separator:aa6211e3c3afbb6179ed595c164c59814"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38c98dc48a252726583c5c23ada3d358"><td class="memItemLeft" align="right" valign="top"><a id="a38c98dc48a252726583c5c23ada3d358" name="a38c98dc48a252726583c5c23ada3d358"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>~MagneticLens</b> ()</td></tr>
<tr class="memdesc:a38c98dc48a252726583c5c23ada3d358"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default destructor. <br /></td></tr>
<tr class="separator:a38c98dc48a252726583c5c23ada3d358"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7854f867ce85aed7cf05a4de7e3aae16"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrpropa_1_1MagneticLens.html#a7854f867ce85aed7cf05a4de7e3aae16">transformCosmicRay</a> (double rigidity, double &amp;phi, double &amp;theta)</td></tr>
<tr class="separator:a7854f867ce85aed7cf05a4de7e3aae16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf082f466e832093d83553dcc1d90908"><td class="memItemLeft" align="right" valign="top"><a id="aaf082f466e832093d83553dcc1d90908" name="aaf082f466e832093d83553dcc1d90908"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>transformCosmicRay</b> (double rigidity, <a class="el" href="classcrpropa_1_1Vector3.html">Vector3d</a> &amp;p)</td></tr>
<tr class="memdesc:aaf082f466e832093d83553dcc1d90908"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tries transform a cosmic ray with momentum vector p. <br /></td></tr>
<tr class="separator:aaf082f466e832093d83553dcc1d90908"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a162c9d22dd25910cd5e8cc622c943407"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrpropa_1_1MagneticLens.html#a162c9d22dd25910cd5e8cc622c943407">transformModelVector</a> (double *model, double rigidity) const</td></tr>
<tr class="separator:a162c9d22dd25910cd5e8cc622c943407"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade6860693addc8f4585314d4a2456129"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrpropa_1_1MagneticLens.html#ade6860693addc8f4585314d4a2456129">setLensPart</a> (const ModelMatrixType &amp;M, double rigidityMin, double rigidityMax)</td></tr>
<tr class="separator:ade6860693addc8f4585314d4a2456129"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47603966d403181b3bfd4577f4142ab3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrpropa_1_1MagneticLens.html#a47603966d403181b3bfd4577f4142ab3">loadLens</a> (const string &amp;filename)</td></tr>
<tr class="separator:a47603966d403181b3bfd4577f4142ab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae988fb8fef9974c11ef93767120e6df5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrpropa_1_1MagneticLens.html#ae988fb8fef9974c11ef93767120e6df5">normalizeLens</a> ()</td></tr>
<tr class="separator:ae988fb8fef9974c11ef93767120e6df5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46e75afd0737b2785de34fe0906dcf8a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrpropa_1_1MagneticLens.html#a46e75afd0737b2785de34fe0906dcf8a">normalizeLensparts</a> ()</td></tr>
<tr class="separator:a46e75afd0737b2785de34fe0906dcf8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09e126e579c0e758fa82a2567580a816"><td class="memItemLeft" align="right" valign="top"><a id="a09e126e579c0e758fa82a2567580a816" name="a09e126e579c0e758fa82a2567580a816"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>rigidityCovered</b> (double rigidity) const</td></tr>
<tr class="memdesc:a09e126e579c0e758fa82a2567580a816"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if rigidity [Joule] is covered by lens. <br /></td></tr>
<tr class="separator:a09e126e579c0e758fa82a2567580a816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4d2ede0ccac44aa936592ea2c37d21d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrpropa_1_1MagneticLens.html#aa4d2ede0ccac44aa936592ea2c37d21d">normalizeMatrixColumns</a> ()</td></tr>
<tr class="separator:aa4d2ede0ccac44aa936592ea2c37d21d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56a78b6e6cc179b886e66d15af90b0f0"><td class="memItemLeft" align="right" valign="top"><a id="a56a78b6e6cc179b886e66d15af90b0f0" name="a56a78b6e6cc179b886e66d15af90b0f0"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getMinimumRigidity</b> () const</td></tr>
<tr class="memdesc:a56a78b6e6cc179b886e66d15af90b0f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns minimum rigidity covered by lens, in eV. <br /></td></tr>
<tr class="separator:a56a78b6e6cc179b886e66d15af90b0f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa189be38fadf10bca005ac2326536de4"><td class="memItemLeft" align="right" valign="top"><a id="aa189be38fadf10bca005ac2326536de4" name="aa189be38fadf10bca005ac2326536de4"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getMaximumRigidity</b> () const</td></tr>
<tr class="memdesc:aa189be38fadf10bca005ac2326536de4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns maximum rigidity covered by lens, in eV. <br /></td></tr>
<tr class="separator:aa189be38fadf10bca005ac2326536de4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e66e331583b40489d851550d3e81a45"><td class="memItemLeft" align="right" valign="top"><a id="a3e66e331583b40489d851550d3e81a45" name="a3e66e331583b40489d851550d3e81a45"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getNorm</b> ()</td></tr>
<tr class="separator:a3e66e331583b40489d851550d3e81a45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bdf8cddf4c8587eafb11493758ed857"><td class="memItemLeft" align="right" valign="top"><a id="a1bdf8cddf4c8587eafb11493758ed857" name="a1bdf8cddf4c8587eafb11493758ed857"></a>
<a class="el" href="classcrpropa_1_1LensPart.html">LensPart</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>getLensPart</b> (double rigidity) const</td></tr>
<tr class="memdesc:a1bdf8cddf4c8587eafb11493758ed857"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns iterator to the lens part with rigidity Joule. <br /></td></tr>
<tr class="separator:a1bdf8cddf4c8587eafb11493758ed857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabdb173f5ca5b7409511f4ce31d9a46d"><td class="memItemLeft" align="right" valign="top"><a id="aabdb173f5ca5b7409511f4ce31d9a46d" name="aabdb173f5ca5b7409511f4ce31d9a46d"></a>
const std::vector&lt; <a class="el" href="classcrpropa_1_1LensPart.html">LensPart</a> * &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getLensParts</b> () const</td></tr>
<tr class="memdesc:aabdb173f5ca5b7409511f4ce31d9a46d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all lens parts. <br /></td></tr>
<tr class="separator:aabdb173f5ca5b7409511f4ce31d9a46d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >The lens for the galactic magnetic field. Note that the energies refer to protons (Z=1). To be used with other particles with a different charge number please select the rigidity accordingly. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a47603966d403181b3bfd4577f4142ab3" name="a47603966d403181b3bfd4577f4142ab3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47603966d403181b3bfd4577f4142ab3">&#9670;&nbsp;</a></span>loadLens()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loadLens </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Loads a lens from a given file, containing lines like lensefile.MLDAT rigidityMin rigidityMax rigidities are given in logarithmic units [log10(E / eV)] </p>

</div>
</div>
<a id="ae988fb8fef9974c11ef93767120e6df5" name="ae988fb8fef9974c11ef93767120e6df5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae988fb8fef9974c11ef93767120e6df5">&#9670;&nbsp;</a></span>normalizeLens()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void normalizeLens </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Normalizes the lens parts to the maximum of sums of columns of every lenspart. By doing this, the lens won't distort the spectrum </p>

</div>
</div>
<a id="a46e75afd0737b2785de34fe0906dcf8a" name="a46e75afd0737b2785de34fe0906dcf8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46e75afd0737b2785de34fe0906dcf8a">&#9670;&nbsp;</a></span>normalizeLensparts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void normalizeLensparts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Normalizes the lens parts individually. Normalized this way, the lens generally distorts the spectrum of the sources, but deflects the UHECR more efficiently. </p>

</div>
</div>
<a id="aa4d2ede0ccac44aa936592ea2c37d21d" name="aa4d2ede0ccac44aa936592ea2c37d21d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4d2ede0ccac44aa936592ea2c37d21d">&#9670;&nbsp;</a></span>normalizeMatrixColumns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void normalizeMatrixColumns </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Normalizes all matrix columns - the lens will then create fake anisotropies, but won't drop particles </p>

</div>
</div>
<a id="ade6860693addc8f4585314d4a2456129" name="ade6860693addc8f4585314d4a2456129"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade6860693addc8f4585314d4a2456129">&#9670;&nbsp;</a></span>setLensPart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setLensPart </td>
          <td>(</td>
          <td class="paramtype">const ModelMatrixType &amp;&#160;</td>
          <td class="paramname"><em>M</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rigidityMin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rigidityMax</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Loads M as part of a lens and use it in given rigidity range with rigidities given in Joule </p>

</div>
</div>
<a id="a7854f867ce85aed7cf05a4de7e3aae16" name="a7854f867ce85aed7cf05a4de7e3aae16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7854f867ce85aed7cf05a4de7e3aae16">&#9670;&nbsp;</a></span>transformCosmicRay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool transformCosmicRay </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rigidity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>phi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>theta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Try to transform the comsic ray to a new direction. Returns false and does not change phi and theta if the cosmic ray is lost due to conservation of cosmic ray flux. Rigidity is given in Joule, phi and theta in rad </p>

</div>
</div>
<a id="a162c9d22dd25910cd5e8cc622c943407" name="a162c9d22dd25910cd5e8cc622c943407"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a162c9d22dd25910cd5e8cc622c943407">&#9670;&nbsp;</a></span>transformModelVector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void transformModelVector </td>
          <td>(</td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rigidity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >transforms the model array assuming that model points to an array of the correct size. Rigidity is given in Joule </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Dec 18 2021 22:41:43 for CRPropa 3.0 by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
