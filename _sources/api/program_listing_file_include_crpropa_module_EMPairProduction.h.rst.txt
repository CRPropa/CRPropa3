
.. _program_listing_file_include_crpropa_module_EMPairProduction.h:

Program Listing for File EMPairProduction.h
===========================================

|exhale_lsh| :ref:`Return to documentation for file <file_include_crpropa_module_EMPairProduction.h>` (``include/crpropa/module/EMPairProduction.h``)

.. |exhale_lsh| unicode:: U+021B0 .. UPWARDS ARROW WITH TIP LEFTWARDS

.. code-block:: cpp

   #ifndef CRPROPA_EMPAIRPRODUCTION_H
   #define CRPROPA_EMPAIRPRODUCTION_H
   
   #include <fstream>
   #include <cmath>
   
   #include "crpropa/Module.h"
   #include "crpropa/PhotonBackground.h"
   
   
   namespace crpropa {
   class EMPairProduction: public Module {
   private:
           ref_ptr<PhotonField> photonField;       // target photon field
           bool haveElectrons;                                     // add secondary electrons to simulation
           double limit;                                           // limit the step to a fraction of the mean free path
           double thinning;                                        // factor of the thinning (0: no thinning, 1: maximum thinning)
           std::string interactionTag = "EMPP";
   
           // tabulated interaction rate 1/lambda(E)
           std::vector<double> tabEnergy;  
           std::vector<double> tabRate;  
           
           // tabulated CDF(s_kin, E) = cumulative differential interaction rate
           std::vector<double> tabE;  
           std::vector<double> tabs;  
           std::vector< std::vector<double> > tabCDF;  
   
   public:
           EMPairProduction(ref_ptr<PhotonField> photonField, bool haveElectrons = false, double thinning = 0,double limit = 0.1);
   
           // set the target photon field
           void setPhotonField(ref_ptr<PhotonField> photonField);
   
           // decide if secondary electrons are added to the simulation
           void setHaveElectrons(bool haveElectrons);
   
           void setLimit(double limit);
   
           void setThinning(double thinning);
   
           void setInteractionTag(std::string tag);
           std::string getInteractionTag() const;
   
           void initRate(std::string filename);
           void initCumulativeRate(std::string filename);
   
           void performInteraction(Candidate *candidate) const;
           void process(Candidate *candidate) const;
   };
   } // namespace crpropa
   
   #endif // CRPROPA_EMPAIRPRODUCTION_H
