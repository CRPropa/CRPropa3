Install from source
------------------------
MPC is configured using CMAKE - for more information see www.cmake.org
1) Download the data archive from https://forge.physik.rwth-aachen.de/projects/mpc/files extract to mpc/data
2) >> cd build
3) >> cmake ..
	or >> ccmake ..
4) >> make
5) >> make test [to run all unit tests when gtest is available]
7) >> make install

Notes for Intel Compiler:
  use -DCMAKE_SHARED_LINKER_FLAGS="-lifcore" -DCMAKE_Fortran_COMPILER=ifort


Install with Python bindings
----------------------------
To use mpc via python the CMAKE flag ENABLEPYTHON needs to be set to True.
Additionally the path to mpc.py needs to be added to PYTHONPATH


Dependencies
------------
Required:
C++ Compiler
Fortran Compiler 
	-> to compile SOPHIA

Provided:
SOPHIA 
	-> for photo-hadronic interactions
googletest
	-> for unit-tests

Optional:
Python and SWIG
	-> to use MPC from Python
	tested for > Python 2.7
	tested for > SWIG 2.0
FFTW3F 
	-> for turbulent magnetic field grids
	MPC needs the FFTW3 library compiled with the single precision option 
Gadget 
	-> for large scale structure using the smooth particle formalism
OpenMP
	-> for shared memory parallelization
googleperftools 
	-> for performance optimizations regarding shared memory parallelization


XML Steering
------------
MPC can be steered via XML cards ($mpc-run some_steeringcard.xml)
The steeringcard layout is conform to the one CRPropa2.
However, CRPropa 2 does not fully enforce the XML-1.0 standard (http://www.w3.org/XML). 
To comply with the standard a few modifications to exisisting steering cards might have to be made.
Modification are
	1) XML-cards can have only one root node. The root node is
		<CRPropa>
		....
		</CRPropa>
	2) All nodes including the optional header node need to be closed, e.g.
		<?xml version="1.0" standalone=no ?>
		<Option1> ... </Option1> or
		<Option2/>
	3) Values need to be embraced by quotes, e.g. 
		<NumTrajectories="1000"/> or
		<NumTrajectories='1000'/>
