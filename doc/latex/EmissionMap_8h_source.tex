\hypertarget{EmissionMap_8h_source}{}\doxysection{Emission\+Map.\+h}
\label{EmissionMap_8h_source}\index{EmissionMap.h@{EmissionMap.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef CRPROPA\_EMISSION\_MAP\_H}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define CRPROPA\_EMISSION\_MAP\_H}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include "{}Referenced.h"{}}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include "{}Candidate.h"{}}}
\DoxyCodeLine{6 }
\DoxyCodeLine{7 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacecrpropa}{crpropa}} \{}
\DoxyCodeLine{8 }
\DoxyCodeLine{13 \textcolor{keyword}{class }\mbox{\hyperlink{classcrpropa_1_1CylindricalProjectionMap}{CylindricalProjectionMap}} : \textcolor{keyword}{public} \mbox{\hyperlink{classcrpropa_1_1Referenced}{Referenced}} \{}
\DoxyCodeLine{14 \textcolor{keyword}{private}:}
\DoxyCodeLine{15         \textcolor{keywordtype}{size\_t} nPhi, nTheta;}
\DoxyCodeLine{16         \textcolor{keywordtype}{double} sPhi, sTheta;}
\DoxyCodeLine{17         \textcolor{keyword}{mutable} \textcolor{keywordtype}{bool} dirty;}
\DoxyCodeLine{18         std::vector<double> pdf;}
\DoxyCodeLine{19         \textcolor{keyword}{mutable} std::vector<double> cdf;}
\DoxyCodeLine{20 }
\DoxyCodeLine{22         \textcolor{keywordtype}{void} updateCdf() \textcolor{keyword}{const};}
\DoxyCodeLine{23 }
\DoxyCodeLine{24 \textcolor{keyword}{public}:}
\DoxyCodeLine{25         \mbox{\hyperlink{classcrpropa_1_1CylindricalProjectionMap}{CylindricalProjectionMap}}();}
\DoxyCodeLine{30         \mbox{\hyperlink{classcrpropa_1_1CylindricalProjectionMap_a2926573046e7bc207dd881ca032e4769}{CylindricalProjectionMap}}(\textcolor{keywordtype}{size\_t} nPhi, \textcolor{keywordtype}{size\_t} nTheta);}
\DoxyCodeLine{31 }
\DoxyCodeLine{33         \textcolor{keywordtype}{void} \mbox{\hyperlink{classcrpropa_1_1CylindricalProjectionMap_ad2483329343e656d22a6b4ea37e873a9}{fillBin}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}}\& direction, \textcolor{keywordtype}{double} weight = 1.);}
\DoxyCodeLine{34 }
\DoxyCodeLine{36         \textcolor{keywordtype}{void} \mbox{\hyperlink{classcrpropa_1_1CylindricalProjectionMap_ad52718f9693212d6a02526d4aa22524f}{fillBin}}(\textcolor{keywordtype}{size\_t} bin, \textcolor{keywordtype}{double} weight = 1.);}
\DoxyCodeLine{37 }
\DoxyCodeLine{39         \mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}} \mbox{\hyperlink{classcrpropa_1_1CylindricalProjectionMap_a6782a5ba0406361663ed9f2b09cf2f57}{drawDirection}}() \textcolor{keyword}{const};}
\DoxyCodeLine{40 }
\DoxyCodeLine{42         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcrpropa_1_1CylindricalProjectionMap_a6a3c6063301786ce95e3bf0c78a9f18f}{checkDirection}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}} \&direction) \textcolor{keyword}{const};}
\DoxyCodeLine{43 }
\DoxyCodeLine{44         \textcolor{keyword}{const} std::vector<double>\& getPdf() \textcolor{keyword}{const};}
\DoxyCodeLine{45         std::vector<double>\& getPdf();}
\DoxyCodeLine{46 }
\DoxyCodeLine{47         \textcolor{keyword}{const} std::vector<double>\& getCdf() \textcolor{keyword}{const};}
\DoxyCodeLine{48 }
\DoxyCodeLine{49         \textcolor{keywordtype}{size\_t} getNPhi();}
\DoxyCodeLine{50         \textcolor{keywordtype}{size\_t} getNTheta();}
\DoxyCodeLine{51 }
\DoxyCodeLine{53         \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{classcrpropa_1_1CylindricalProjectionMap_a831fd3e96b09ca72cb2394662150abbc}{binFromDirection}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}}\& direction) \textcolor{keyword}{const};}
\DoxyCodeLine{54 }
\DoxyCodeLine{56         \mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}} \mbox{\hyperlink{classcrpropa_1_1CylindricalProjectionMap_a05e9d2442901db0f6f3e91f296a19d3d}{directionFromBin}}(\textcolor{keywordtype}{size\_t} bin) \textcolor{keyword}{const};}
\DoxyCodeLine{57 \};}
\DoxyCodeLine{58 }
\DoxyCodeLine{65 \textcolor{keyword}{class }\mbox{\hyperlink{classcrpropa_1_1EmissionMap}{EmissionMap}} : \textcolor{keyword}{public} \mbox{\hyperlink{classcrpropa_1_1Referenced}{Referenced}} \{}
\DoxyCodeLine{66 \textcolor{keyword}{public}:}
\DoxyCodeLine{67         \textcolor{keyword}{typedef} std::pair<int, size\_t> key\_t;}
\DoxyCodeLine{68         \textcolor{keyword}{typedef} std::map<key\_t, ref\_ptr<CylindricalProjectionMap> > map\_t;}
\DoxyCodeLine{69 }
\DoxyCodeLine{70         \mbox{\hyperlink{classcrpropa_1_1EmissionMap}{EmissionMap}}();}
\DoxyCodeLine{76         \mbox{\hyperlink{classcrpropa_1_1EmissionMap_afff8f59c9a998ccccd12a31d496c0cb7}{EmissionMap}}(\textcolor{keywordtype}{size\_t} nPhi, \textcolor{keywordtype}{size\_t} nTheta, \textcolor{keywordtype}{size\_t} nEnergy);}
\DoxyCodeLine{77 }
\DoxyCodeLine{85         \mbox{\hyperlink{classcrpropa_1_1EmissionMap_abe87503d56b68fc6cd855caf0487c9d2}{EmissionMap}}(\textcolor{keywordtype}{size\_t} nPhi, \textcolor{keywordtype}{size\_t} nTheta, \textcolor{keywordtype}{size\_t} nEnergy, \textcolor{keywordtype}{double} minEnergy, \textcolor{keywordtype}{double} maxEnergy);}
\DoxyCodeLine{86 }
\DoxyCodeLine{88         \textcolor{keywordtype}{double} \mbox{\hyperlink{classcrpropa_1_1EmissionMap_a70ca0954b2fbdd5f634cc2087b32e85c}{energyFromBin}}(\textcolor{keywordtype}{size\_t} bin) \textcolor{keyword}{const};}
\DoxyCodeLine{89 }
\DoxyCodeLine{91         \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{classcrpropa_1_1EmissionMap_a4e2b86cb87a375010c1c647de60c29e8}{binFromEnergy}}(\textcolor{keywordtype}{double} energy) \textcolor{keyword}{const};}
\DoxyCodeLine{92 }
\DoxyCodeLine{93         map\_t \&getMaps();}
\DoxyCodeLine{94         \textcolor{keyword}{const} map\_t \&getMaps() \textcolor{keyword}{const};}
\DoxyCodeLine{95 }
\DoxyCodeLine{97         \textcolor{keywordtype}{void} \mbox{\hyperlink{classcrpropa_1_1EmissionMap_aeb832864673a3b429ad46c8254e60d9d}{fillMap}}(\textcolor{keywordtype}{int} pid, \textcolor{keywordtype}{double} energy, \textcolor{keyword}{const} \mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}}\& direction, \textcolor{keywordtype}{double} weight = 1.);}
\DoxyCodeLine{99         \textcolor{keywordtype}{void} \mbox{\hyperlink{classcrpropa_1_1EmissionMap_a6480900016f04627ba382a41fbc0302f}{fillMap}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcrpropa_1_1ParticleState}{ParticleState}}\& state, \textcolor{keywordtype}{double} weight = 1.);}
\DoxyCodeLine{100 }
\DoxyCodeLine{102         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcrpropa_1_1EmissionMap_aa1c3f11f3da6e4691b75ac1d60e4569b}{drawDirection}}(\textcolor{keywordtype}{int} pid, \textcolor{keywordtype}{double} energy, \mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}}\& direction) \textcolor{keyword}{const};}
\DoxyCodeLine{104         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcrpropa_1_1EmissionMap_a20e57a4480c67eedd423544bba5d055e}{drawDirection}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcrpropa_1_1ParticleState}{ParticleState}}\& state, \mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}}\& direction) \textcolor{keyword}{const};}
\DoxyCodeLine{105 }
\DoxyCodeLine{107         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcrpropa_1_1EmissionMap_a2b55fb1e9bdaf2a37c107057e7026250}{checkDirection}}(\textcolor{keywordtype}{int} pid, \textcolor{keywordtype}{double} energy, \textcolor{keyword}{const} \mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}}\& direction) \textcolor{keyword}{const};}
\DoxyCodeLine{109         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcrpropa_1_1EmissionMap_abfc0feb1185c10e014d4ed095a4a5f6c}{checkDirection}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcrpropa_1_1ParticleState}{ParticleState}}\& state) \textcolor{keyword}{const};}
\DoxyCodeLine{110 }
\DoxyCodeLine{112         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcrpropa_1_1EmissionMap_add747b2882f6f52875f6450009434da7}{hasMap}}(\textcolor{keywordtype}{int} pid, \textcolor{keywordtype}{double} energy);}
\DoxyCodeLine{113 }
\DoxyCodeLine{115         \mbox{\hyperlink{classcrpropa_1_1ref__ptr}{ref\_ptr<CylindricalProjectionMap>}} \mbox{\hyperlink{classcrpropa_1_1EmissionMap_a7d6705a69d1a822c55016d24639d3d1f}{getMap}}(\textcolor{keywordtype}{int} pid, \textcolor{keywordtype}{double} energy);}
\DoxyCodeLine{116 }
\DoxyCodeLine{118         \textcolor{keywordtype}{void} \mbox{\hyperlink{classcrpropa_1_1EmissionMap_a2c027edbcd25b820dc6e21a9a3ad0496}{save}}(\textcolor{keyword}{const} std::string \&filename);}
\DoxyCodeLine{120         \textcolor{keywordtype}{void} \mbox{\hyperlink{classcrpropa_1_1EmissionMap_a6c21edd9d285c925527e3209fca54b01}{load}}(\textcolor{keyword}{const} std::string \&filename);}
\DoxyCodeLine{121 }
\DoxyCodeLine{123         \textcolor{keywordtype}{void} \mbox{\hyperlink{classcrpropa_1_1EmissionMap_a34fbd884162389256d311b83e96d6832}{merge}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcrpropa_1_1EmissionMap}{EmissionMap}} *other);}
\DoxyCodeLine{124 }
\DoxyCodeLine{126         \textcolor{keywordtype}{void} \mbox{\hyperlink{classcrpropa_1_1EmissionMap_a5333ce09525a8f85fcd127316e754d69}{merge}}(\textcolor{keyword}{const} std::string \&filename);}
\DoxyCodeLine{127 }
\DoxyCodeLine{128 \textcolor{keyword}{protected}:}
\DoxyCodeLine{129         \textcolor{keywordtype}{double} minEnergy, maxEnergy, logStep;}
\DoxyCodeLine{130         \textcolor{keywordtype}{size\_t} nPhi, nTheta, nEnergy;}
\DoxyCodeLine{131         map\_t maps;}
\DoxyCodeLine{132 \};}
\DoxyCodeLine{133 }
\DoxyCodeLine{134 \} \textcolor{comment}{// namespace crpropa}}
\DoxyCodeLine{135 }
\DoxyCodeLine{136 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// CRPROPA\_EMISSION\_MAP\_H}}

\end{DoxyCode}
