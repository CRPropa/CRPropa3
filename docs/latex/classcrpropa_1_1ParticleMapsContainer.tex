\hypertarget{classcrpropa_1_1ParticleMapsContainer}{}\doxysection{Particle\+Maps\+Container Class Reference}
\label{classcrpropa_1_1ParticleMapsContainer}\index{ParticleMapsContainer@{ParticleMapsContainer}}


A container for particle maps.  


\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcrpropa_1_1ParticleMapsContainer_a7b7f52e314f549095276d3edfbd0a98d}{Particle\+Maps\+Container}} (double delta\+LogE=0.\+02, double bin0lower\+Edge=17.\+99)
\item 
\mbox{\hyperlink{classcrpropa_1_1ParticleMapsContainer_a5d54f235d9d31531a7c370042f7785b9}{$\sim$\+Particle\+Maps\+Container}} ()
\item 
\mbox{\Hypertarget{classcrpropa_1_1ParticleMapsContainer_a96333d9646d1510d13e071cdc71e3c3a}\label{classcrpropa_1_1ParticleMapsContainer_a96333d9646d1510d13e071cdc71e3c3a}} 
size\+\_\+t {\bfseries get\+Number\+Of\+Pixels} ()
\item 
double $\ast$ \mbox{\hyperlink{classcrpropa_1_1ParticleMapsContainer_a8eb83606b790af55f573c54cb7f0014b}{get\+Map}} (const int particle\+Id, double energy)
\item 
void \mbox{\hyperlink{classcrpropa_1_1ParticleMapsContainer_a9ccf2f636b6d166f5f391242845090ca}{add\+Particle}} (const int particle\+Id, double energy, double galactic\+Longitude, double galactic\+Latitude, double weight=1)
\item 
void \mbox{\hyperlink{classcrpropa_1_1ParticleMapsContainer_a6df900c2405c72a161f88a845b5c42de}{add\+Particle}} (const int particle\+Id, double energy, const \mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}} \&v, double weight=1)
\item 
std\+::vector$<$ int $>$ \mbox{\hyperlink{classcrpropa_1_1ParticleMapsContainer_a16423cacef0f6ce324ca31791c71b26a}{get\+Particle\+Ids}} ()
\item 
std\+::vector$<$ double $>$ \mbox{\hyperlink{classcrpropa_1_1ParticleMapsContainer_a941d6cc240430f50d2787a8d93aff761}{get\+Energies}} (int pid)
\item 
\mbox{\Hypertarget{classcrpropa_1_1ParticleMapsContainer_af349294ade35e680135a219373479a85}\label{classcrpropa_1_1ParticleMapsContainer_af349294ade35e680135a219373479a85}} 
void {\bfseries apply\+Lens} (\mbox{\hyperlink{classcrpropa_1_1MagneticLens}{Magnetic\+Lens}} \&lens)
\item 
void \mbox{\hyperlink{classcrpropa_1_1ParticleMapsContainer_a69fffcc73dcce971e8de346db6a747a8}{get\+Random\+Particles}} (size\+\_\+t N, vector$<$ int $>$ \&particle\+Id, vector$<$ double $>$ \&energy, vector$<$ double $>$ \&galactic\+Longitudes, vector$<$ double $>$ \&galactic\+Latitudes)
\item 
bool \mbox{\hyperlink{classcrpropa_1_1ParticleMapsContainer_a88a418c3776916213073c73b903b5f53}{place\+On\+Map}} (int pid, double energy, double \&galactic\+Longitude, double \&galactic\+Latitude)
\item 
void \mbox{\hyperlink{classcrpropa_1_1ParticleMapsContainer_ad9b1930e42bce2f98bb0870f5a8e8f6a}{force\+Weight\+Update}} ()
\item 
double \mbox{\hyperlink{classcrpropa_1_1ParticleMapsContainer_a775948ef0f32261bcbbe3329269fbbe4}{get\+Sum\+Of\+Weights}} ()
\item 
double \mbox{\hyperlink{classcrpropa_1_1ParticleMapsContainer_aaff79bb2e281ccda6f5b7e7b055e0279}{get\+Weight}} (int pid, double energy)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A container for particle maps. 

The maps are stored with discrete energies on a logarithmic scale. The default energy width is 0.\+02 with an energy bin from 10$\ast$$\ast$17.99 -\/ 10$\ast$$\ast$18.01 eV. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcrpropa_1_1ParticleMapsContainer_a7b7f52e314f549095276d3edfbd0a98d}\label{classcrpropa_1_1ParticleMapsContainer_a7b7f52e314f549095276d3edfbd0a98d}} 
\index{ParticleMapsContainer@{ParticleMapsContainer}!ParticleMapsContainer@{ParticleMapsContainer}}
\index{ParticleMapsContainer@{ParticleMapsContainer}!ParticleMapsContainer@{ParticleMapsContainer}}
\doxysubsubsection{\texorpdfstring{ParticleMapsContainer()}{ParticleMapsContainer()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classcrpropa_1_1ParticleMapsContainer}{Particle\+Maps\+Container}} (\begin{DoxyParamCaption}\item[{double}]{delta\+LogE = {\ttfamily 0.02},  }\item[{double}]{bin0lower\+Edge = {\ttfamily 17.99} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Constructor. 
\begin{DoxyParams}{Parameters}
{\em delta\+LogE} & width of logarithmic energy bin \mbox{[}in eV\mbox{]} \\
\hline
{\em bin0lower\+Edge} & logarithm of energy of the lower edge of first bin \mbox{[}in log(e\+V)\mbox{]} \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classcrpropa_1_1ParticleMapsContainer_a5d54f235d9d31531a7c370042f7785b9}\label{classcrpropa_1_1ParticleMapsContainer_a5d54f235d9d31531a7c370042f7785b9}} 
\index{ParticleMapsContainer@{ParticleMapsContainer}!````~ParticleMapsContainer@{$\sim$ParticleMapsContainer}}
\index{````~ParticleMapsContainer@{$\sim$ParticleMapsContainer}!ParticleMapsContainer@{ParticleMapsContainer}}
\doxysubsubsection{\texorpdfstring{$\sim$ParticleMapsContainer()}{~ParticleMapsContainer()}}
{\footnotesize\ttfamily $\sim$\mbox{\hyperlink{classcrpropa_1_1ParticleMapsContainer}{Particle\+Maps\+Container}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Destructor. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcrpropa_1_1ParticleMapsContainer_a6df900c2405c72a161f88a845b5c42de}\label{classcrpropa_1_1ParticleMapsContainer_a6df900c2405c72a161f88a845b5c42de}} 
\index{ParticleMapsContainer@{ParticleMapsContainer}!addParticle@{addParticle}}
\index{addParticle@{addParticle}!ParticleMapsContainer@{ParticleMapsContainer}}
\doxysubsubsection{\texorpdfstring{addParticle()}{addParticle()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void add\+Particle (\begin{DoxyParamCaption}\item[{const int}]{particle\+Id,  }\item[{double}]{energy,  }\item[{const \mbox{\hyperlink{classcrpropa_1_1Vector3}{Vector3d}} \&}]{v,  }\item[{double}]{weight = {\ttfamily 1} }\end{DoxyParamCaption})}

Adds a particle to the map container. 
\begin{DoxyParams}{Parameters}
{\em particle\+Id} & id of the particle following the PDG numbering scheme \\
\hline
{\em energy} & the energy of the particle \mbox{[}in Joules\mbox{]} \\
\hline
{\em v} & vector containing the arrival directions of a particle \\
\hline
{\em weight} & relative weight for the specific particle \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classcrpropa_1_1ParticleMapsContainer_a9ccf2f636b6d166f5f391242845090ca}\label{classcrpropa_1_1ParticleMapsContainer_a9ccf2f636b6d166f5f391242845090ca}} 
\index{ParticleMapsContainer@{ParticleMapsContainer}!addParticle@{addParticle}}
\index{addParticle@{addParticle}!ParticleMapsContainer@{ParticleMapsContainer}}
\doxysubsubsection{\texorpdfstring{addParticle()}{addParticle()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void add\+Particle (\begin{DoxyParamCaption}\item[{const int}]{particle\+Id,  }\item[{double}]{energy,  }\item[{double}]{galactic\+Longitude,  }\item[{double}]{galactic\+Latitude,  }\item[{double}]{weight = {\ttfamily 1} }\end{DoxyParamCaption})}

Adds a particle to the map container. 
\begin{DoxyParams}{Parameters}
{\em particle\+Id} & id of the particle following the PDG numbering scheme \\
\hline
{\em energy} & the energy of the particle \mbox{[}in Joules\mbox{]} \\
\hline
{\em galactic\+Longitude} & galactic longitude \mbox{[}radians\mbox{]} \\
\hline
{\em galactic\+Latitude} & galactic latitude \mbox{[}radians\mbox{]} \\
\hline
{\em weight} & relative weight for the specific particle \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classcrpropa_1_1ParticleMapsContainer_ad9b1930e42bce2f98bb0870f5a8e8f6a}\label{classcrpropa_1_1ParticleMapsContainer_ad9b1930e42bce2f98bb0870f5a8e8f6a}} 
\index{ParticleMapsContainer@{ParticleMapsContainer}!forceWeightUpdate@{forceWeightUpdate}}
\index{forceWeightUpdate@{forceWeightUpdate}!ParticleMapsContainer@{ParticleMapsContainer}}
\doxysubsubsection{\texorpdfstring{forceWeightUpdate()}{forceWeightUpdate()}}
{\footnotesize\ttfamily void force\+Weight\+Update (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Force weight update prior to getting random particles. Only necessary when reusing pointer to maps after calculating weights. \mbox{\Hypertarget{classcrpropa_1_1ParticleMapsContainer_a941d6cc240430f50d2787a8d93aff761}\label{classcrpropa_1_1ParticleMapsContainer_a941d6cc240430f50d2787a8d93aff761}} 
\index{ParticleMapsContainer@{ParticleMapsContainer}!getEnergies@{getEnergies}}
\index{getEnergies@{getEnergies}!ParticleMapsContainer@{ParticleMapsContainer}}
\doxysubsubsection{\texorpdfstring{getEnergies()}{getEnergies()}}
{\footnotesize\ttfamily std\+::vector$<$ double $>$ get\+Energies (\begin{DoxyParamCaption}\item[{int}]{pid }\end{DoxyParamCaption})}

Get energies in map. 
\begin{DoxyParams}{Parameters}
{\em pid} & id of the particle following the PDG numbering scheme \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Energies are returned in units of eV (unlike in other CRPropa modules) for performance reasons 
\end{DoxyReturn}
\mbox{\Hypertarget{classcrpropa_1_1ParticleMapsContainer_a8eb83606b790af55f573c54cb7f0014b}\label{classcrpropa_1_1ParticleMapsContainer_a8eb83606b790af55f573c54cb7f0014b}} 
\index{ParticleMapsContainer@{ParticleMapsContainer}!getMap@{getMap}}
\index{getMap@{getMap}!ParticleMapsContainer@{ParticleMapsContainer}}
\doxysubsubsection{\texorpdfstring{getMap()}{getMap()}}
{\footnotesize\ttfamily double $\ast$ get\+Map (\begin{DoxyParamCaption}\item[{const int}]{particle\+Id,  }\item[{double}]{energy }\end{DoxyParamCaption})}

Get the map for the particle\+Id with the given energy. 
\begin{DoxyParams}{Parameters}
{\em particle\+Id} & id of the particle following the PDG numbering scheme \\
\hline
{\em energy} & the energy of the particle \mbox{[}in Joules\mbox{]} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The map for a given particle\+Id with a given energy 
\end{DoxyReturn}
\mbox{\Hypertarget{classcrpropa_1_1ParticleMapsContainer_a16423cacef0f6ce324ca31791c71b26a}\label{classcrpropa_1_1ParticleMapsContainer_a16423cacef0f6ce324ca31791c71b26a}} 
\index{ParticleMapsContainer@{ParticleMapsContainer}!getParticleIds@{getParticleIds}}
\index{getParticleIds@{getParticleIds}!ParticleMapsContainer@{ParticleMapsContainer}}
\doxysubsubsection{\texorpdfstring{getParticleIds()}{getParticleIds()}}
{\footnotesize\ttfamily std\+::vector$<$ int $>$ get\+Particle\+Ids (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Get all particle ids in the map. \begin{DoxyReturn}{Returns}
Vector of all ids. 
\end{DoxyReturn}
\mbox{\Hypertarget{classcrpropa_1_1ParticleMapsContainer_a69fffcc73dcce971e8de346db6a747a8}\label{classcrpropa_1_1ParticleMapsContainer_a69fffcc73dcce971e8de346db6a747a8}} 
\index{ParticleMapsContainer@{ParticleMapsContainer}!getRandomParticles@{getRandomParticles}}
\index{getRandomParticles@{getRandomParticles}!ParticleMapsContainer@{ParticleMapsContainer}}
\doxysubsubsection{\texorpdfstring{getRandomParticles()}{getRandomParticles()}}
{\footnotesize\ttfamily void get\+Random\+Particles (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{N,  }\item[{vector$<$ int $>$ \&}]{particle\+Id,  }\item[{vector$<$ double $>$ \&}]{energy,  }\item[{vector$<$ double $>$ \&}]{galactic\+Longitudes,  }\item[{vector$<$ double $>$ \&}]{galactic\+Latitudes }\end{DoxyParamCaption})}

Get random particles from map. The arguments are the vectors where the information will be stored. 
\begin{DoxyParams}{Parameters}
{\em N} & number of particles to be selected \\
\hline
{\em particle\+Id} & id of the particle following the PDG numbering scheme \\
\hline
{\em energy} & energy of interest \mbox{[}in eV\mbox{]} \\
\hline
{\em galactic\+Longitudes} & longitude in the interval \mbox{[}-\/pi, pi\mbox{]} \mbox{[}in radians\mbox{]} \\
\hline
{\em galactic\+Latitudes} & latitude in the interval \mbox{[}-\/pi/2, pi/2\mbox{]} \mbox{[}in radians\mbox{]} \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classcrpropa_1_1ParticleMapsContainer_a775948ef0f32261bcbbe3329269fbbe4}\label{classcrpropa_1_1ParticleMapsContainer_a775948ef0f32261bcbbe3329269fbbe4}} 
\index{ParticleMapsContainer@{ParticleMapsContainer}!getSumOfWeights@{getSumOfWeights}}
\index{getSumOfWeights@{getSumOfWeights}!ParticleMapsContainer@{ParticleMapsContainer}}
\doxysubsubsection{\texorpdfstring{getSumOfWeights()}{getSumOfWeights()}}
{\footnotesize\ttfamily double get\+Sum\+Of\+Weights (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Get sum of weights of the maps. \begin{DoxyReturn}{Returns}
Sum of all weights. 
\end{DoxyReturn}
\mbox{\Hypertarget{classcrpropa_1_1ParticleMapsContainer_aaff79bb2e281ccda6f5b7e7b055e0279}\label{classcrpropa_1_1ParticleMapsContainer_aaff79bb2e281ccda6f5b7e7b055e0279}} 
\index{ParticleMapsContainer@{ParticleMapsContainer}!getWeight@{getWeight}}
\index{getWeight@{getWeight}!ParticleMapsContainer@{ParticleMapsContainer}}
\doxysubsubsection{\texorpdfstring{getWeight()}{getWeight()}}
{\footnotesize\ttfamily double get\+Weight (\begin{DoxyParamCaption}\item[{int}]{pid,  }\item[{double}]{energy }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Get weight for a given particle and energy 
\begin{DoxyParams}{Parameters}
{\em pid} & id of the particle following the PDG numbering scheme \\
\hline
{\em energy} & energy of interest \mbox{[}in eV\mbox{]} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Weight for the chosen particle and energy. 
\end{DoxyReturn}
\mbox{\Hypertarget{classcrpropa_1_1ParticleMapsContainer_a88a418c3776916213073c73b903b5f53}\label{classcrpropa_1_1ParticleMapsContainer_a88a418c3776916213073c73b903b5f53}} 
\index{ParticleMapsContainer@{ParticleMapsContainer}!placeOnMap@{placeOnMap}}
\index{placeOnMap@{placeOnMap}!ParticleMapsContainer@{ParticleMapsContainer}}
\doxysubsubsection{\texorpdfstring{placeOnMap()}{placeOnMap()}}
{\footnotesize\ttfamily bool place\+On\+Map (\begin{DoxyParamCaption}\item[{int}]{pid,  }\item[{double}]{energy,  }\item[{double \&}]{galactic\+Longitude,  }\item[{double \&}]{galactic\+Latitude }\end{DoxyParamCaption})}

Places a particle with given id and energy according to the probability maps. 
\begin{DoxyParams}{Parameters}
{\em pid} & id of the particle following the PDG numbering scheme \\
\hline
{\em energy} & energy of interest \mbox{[}in eV\mbox{]} \\
\hline
{\em galactic\+Longitudes} & longitude in the interval \mbox{[}-\/pi, pi\mbox{]} \mbox{[}in radians\mbox{]} \\
\hline
{\em galactic\+Latitudes} & latitude in the interval \mbox{[}-\/pi/2, pi/2\mbox{]} \mbox{[}in radians\mbox{]} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns false if operation not possible; true otherwise. 
\end{DoxyReturn}
